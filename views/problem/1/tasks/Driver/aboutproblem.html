<html lang="en">

<head>
  <meta charset="utf-8">
  <title>About problem - MEttLE</title>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="stylesheet" href="/stylesheets/vendor/bootstrap.min.css">
  <link rel="stylesheet" href="/stylesheets/custom/migrated.css">
  <link rel="stylesheet" type="text/css" href="/stylesheets/css/style.css">
  <link rel="stylesheet" href="/stylesheets/css/style-2.css">
   <script src="/javascripts/vendor/go.js"></script>
   <script src="/javascripts/vendor/Buttons.js"></script>
   <script src="/javascripts/vendor/jquery-2.2.1.min.js"></script>
</head>

<body>
  <section id="middlepart">
    <div class="top-section">
      <div class="row">
          <div class="col-sm-1" style="text-align:center;vertical-align:middle" >
            <div class="hoverable-image" >
            <img src="/images/steering-wheel.png" style="max-width:50px;height:auto; margin:12px; filter: invert() drop-shadow(1px 1px 4px rgba(0,0,0,0.4))"/>
          </div>
        </div>
        <style>
          .hoverable-image:hover{
            opacity: 0.8;
            cursor: pointer;
          }

          .hoverable-image:hover::after{
          content: "Your are currently the Driver so you are the one to interact with the page and submit inputs";
          display: inline-block;
          left: 0px;
          top: 0px;
          padding: 5px;
          background-color: black;
          color: white;
          }
        </style>
        <div class="col-sm-6" style="text-align:center;vertical-align:middle">
          <p>MEttLE</p>
       </div>
        
        <g onclick="sendSimulatorLog()"> 
	       <div class="col-sm-1" style="text-align:center;vertical-align:middle">
        <image id="problem1simulator1_sim" type="image" src="/images/simulator.png" style="width:110px;height:67px;"/>
        </div>  </g> 
          
    <g onclick="sendInformationLog()"> 
      <div class="col-sm-1" style="text-align:center;vertical-align:middle">
        <input id="problem1simulator1_info" type="image" src="/images/info.png" style="width:110px;height:67px;"/>
      </div>
      </g> 
    
    <g onclick="sendScratchLog()"> 
      <div class="col-sm-1" style="text-align:center;vertical-align:middle">
       <input  id="problem1simulator1_scribble"type="image" src="/images/scribble.png" style="width:110px;height:67px;"/>
      </div>
      </g> 
    
    
      <div class="col-sm-1" style="text-align:center;vertical-align:middle">
        <input id="problem1simulator1_map" type="image" src="/images/mapactive.png" style="width:110px;height:67px;"/>
      </div>
    
  
      <div class="col-sm-1" style="text-align:center"> <button id="problem1simulator1_logout" style="margin-top: 8px;height: 50px;" type="button" class="btn btn-default" onclick="sel_logout()">Logout</button></div>
    </div>
  </div>

	    <div class="register">
      <div class="info">
      <p> Find guidelines for solving the current and similar estimation problems here </p>
    </div>
     <div class="row activity">

  <div class="col-lg-6" style="text-align:center;vertical-align:middle">
     <h4 style="font-weight:bold">  The sub-goals of this problem  </h4>
        <svg version="1.1" id="Layer_1" xmlns="http://www.w3.org/2520/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="560px"
              height="560px" viewBox="-20 -20 540 540" xml:space="preserve">
              
              <rect width="500" height="500" fill="#bdbdbd" />
             
                 <polygon id="problem1map_func" points="0,250 0,500 250,500" class="task_map" />  
                 <text x="25" y="440" class="task_text_eg"> What does the car </text>
                  <text x="25" y="460" class="task_text_eg"> need to do </text>
                   <text x="25" y="480" class="task_text_eg"> that requires power? </text>
           
              <polygon id="problem1map_qual" points="0,0 0,250 250,500 500,500" class="task_map" />
              <text x="40" y="250" class="task_text_eg"> What are the parameters </text>
                  <text x="40" y="270" class="task_text_eg">that will effect the dominant
                    <tspan x="60" y="290" class="task_text_eg">  mechanical power required? </tspan>
                </text>
     
              <polygon id="problem1map_quant" points="250,0 250,250 500,500 500,250" class="task_map" />
              <text x="320" y="230" class="task_text_eg"> What is equation  </text>
              <text x="320" y="250" class="task_text_eg">  connecting electric </text>
                  <text x="320" y="270" class="task_text_eg"> power required to the
                    <tspan x="320" y="290" class="task_text_eg"> dominant parameters?</tspan>
                </text>
             
                <polygon id="problem1map_calc" points="0,0 250,250 250,0" class="task_map" />
             
                  <text x="65" y="40" class="task_text_eg"> Substituting reasonable
                    <tspan x="70" y="60" class="task_text_eg"> values in the equation, </tspan>
                    <tspan x="85" y="80" class="task_text_eg"> what is the estimate </tspan>
                    <tspan x="105" y="100" class="task_text_eg"> of power? </tspan>
                </text>
              
                <polygon id="problem1map_eval" points="250,0 500,250 500,0" class="task_map" />
               
                  <text x="360" y="40" class="task_text_eg"> Is the estimated 
                    <tspan x="360" y="60" class="task_text_eg"> value of power </tspan>
                    <tspan x="360" y="80" class="task_text_eg"> reasonable? </tspan>
                </text>
            </svg>
      </div>
     <div class="col-lg-6" style="text-align:center;vertical-align:middle">
          <div class="row activity" style="text-align:center">
          <button id = "sel_aboutEst" type="button" class="btn btn-primary"> About Estimation</button>
        </div>
        <div class = "row" style = "margin-left: 0px"> <h4 style="font-weight:bold"> Learn about solving estimation problems </h4><video id="animvid1" width = "640" height = "360"><source src="/videos/problem_overview.mp4" type="video/mp4"></video> </div> 
          <button onClick="play_video()" type="button" class="btn btn-primary">Play</button> <button onClick="pause_video()" type="button" class="btn btn-warning">Pause</button>
            </div>
      </div>
      </div>
  </section>
  <!-- The modal for estimation info -->
      <div id="problem1aboutest_modal" class="modal">
          <!-- Modal content -->
          <div class="modal-content">
          <span class="close">&times;</span>
          <span class="subtask_text"> <ul >
                 <li>Estimation is the process of determining approximate values (say, to the right order of magnitude) for a physical quantity in a physical system without complete information and knowledge of the context.
</li> <br>
<li>
  Estimation is often done as a first step in design, to establish the feasibility of an idea or to evaluate if a component can be used in the design.

</li> <br>
<li>
  The emphasis in estimation is on “speed” and “reasonableness”. In other words, we would rather have an approximate number quickly rather than do elaborate time-consuming calculations to get the exact number because approximate numbers are sufficient to make decisions and move forward in the design process. A good way to get a useful estimate is to consider the “worst case” scenario and find the maximum value for a parameter. So think about what is the worst case scenario and when is the parameter value likely to be the highest.

</li> <br>
<li>
  Practicing engineers often make such estimates on the job for many quantities such as power required, time required, speed attainable, weight of an object, etc. When you graduate and begin working you will be required to make such estimates on the job. 
</li> <br>
<li> 
In addition to being able to estimate quantities, you must be able to evaluate if the value for a physical quantity “makes sense” or is reasonable in the given context.

</li> <br>
</ul>
 </span><br>
        </div>
        </div>

</body>
<script src="/socket.io/socket.io.js"></script>

<script>
var socket = io('http://192.168.0.108:8080');
var name = "{{ sessionName }}";
//window.onclose = socket.emit('Driver-close-window',{text:name});

var windows=[];
var bc = new BroadcastChannel('logoff_channel');
window.onbeforeunload = function(){
  for(var i = 0; i < windows.length; i++){
    windows[i].close()
  }
}

bc.onmessage =  function(event){
  if (event.data=='logoff')
  {
    sel_logout();
  }
}

// Get the modal
var modal = document.getElementById('problem1aboutest_modal');

// Get the button that opens the modal
var btn = document.getElementById('sel_aboutEst');

// Get the <span> element that closes the modal
var span = document.getElementsByClassName("close")[0];

// When the user clicks the button, open the modal 
btn.onclick = function() {
  socket.emit('Driver-about-btn',{text: name});
    modal.style.display = "block";
    logRecord("aboutproblem_about_estimation");
}

// When the user clicks on <span> (x), close the modal
span.onclick = function() {
  socket.emit('Driver-about-close',{text: name});
    modal.style.display = "none";
    logRecord("aboutproblem_close_about_estimation");
}

// When the user clicks anywhere outside of the modal, close it
/*window.onclick = function(event) {
  socket.emit('Driver-about-close',{text: name});
    if (event.target == modal) {
        modal.style.display = "none";
    }
    logRecord("aboutproblem_close_about_estimation");
}*/

function play_video(){
    var vid1 = document.getElementById("animvid1");
    vid1.play();
    socket.emit('Driver-about-play',{text:name});
   logRecord("aboutproblem_play_problem_structure_video")
  }

function pause_video(){
  var vid1 = document.getElementById("animvid1");
  vid1.pause();
  socket.emit('Driver-about-pause',{text:name});
  logRecord("aboutproblem_pause_problem_structure_video")
}

function sendInformationLog(){
  socket.emit('Driver-information', {
      text: name
    });
  windows.push(window.open("/problem/1/tasks/Driver/information", '_blank'));
  logRecord('/Information')
}

function sendScratchLog(){
  socket.emit('Driver-scratch', {
      text: name
    });
  windows.push(window.open("/problem/1/tasks/Driver/scribble", '_blank'));
  logRecord('/scribble')
}

function sendSimulatorLog(){
  socket.emit('Driver-simulator', {
      text: name
    });
  windows.push(window.open("/problem/1/tasks/Driver/simulator", '_blank'));
  logRecord('/Problem_Map')
}

function sel_logout(){
   socket.emit('Driver-logout', {
      text: name
    });
  bc.postMessage('logoff'); 
  for(var i = 0; i < windows.length; i++){
    windows[i].close()
  }
  logRecord('/Logout');
  window.open("/logout", '_self');
}


function logRecord(urlString){
	$.post("/api/problem/log", {pageID: window.location.pathname, value: urlString })
          .done(function(data) {
            if (data.includes("success")) {
              //console.log("Data saved ");
            }
            else {
              //console.log("Please try again ");
            }
          });
} 


function logRecordAndJump(urlString){
	$.post("/api/problem/log", {pageID: window.location.pathname, value: urlString })
          .done(function(data) {
            if (data.includes("success")) {
              //console.log("Data saved ");
			  window.open(urlString, target = "_self");
            }
            else {
              //console.log("Please try again ");
            }
          });
}

function logRecordAndOpen(urlString){
	$.post("/api/problem/log", {pageID: window.location.pathname, value: urlString })
          .done(function(data) {
            if (data.includes("success")) {
              //console.log("Data saved ");
			  window.open(urlString, target = "_blank");
            }
            else {
              //console.log("Please try again ");
            }
          });
}
</script>
